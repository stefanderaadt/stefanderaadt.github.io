(this["webpackJsonpboeren-bridge-score-app"]=this["webpackJsonpboeren-bridge-score-app"]||[]).push([[0],{192:function(e,t,r){e.exports=r(386)},385:function(e,t,r){},386:function(e,t,r){"use strict";r.r(t);var a,n,o,c,i,l,s,u,m,b,d,p,f,h,g,y,v=r(0),O=r.n(v),E=r(35),k=r.n(E),j=r(10),w=r(19),N=r.n(w),T=r(6),R=r(18),x=r(5),S=(r(42),r(2)),z=r(11),I=r(150),C=r(151),P=(a=function e(t,r){Object(R.a)(this,e),Object(T.a)(this,"id",n,this),Object(T.a)(this,"name",o,this),Object(T.a)(this,"color",c,this),this.name=t,this.id=Object(C.v1)(),this.color=r},n=Object(x.a)(a.prototype,"id",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=Object(x.a)(a.prototype,"name",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(x.a)(a.prototype,"color",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a);!function(e){e[e.Guess=0]="Guess",e[e.Play=1]="Play",e[e.Score=2]="Score",e[e.End=3]="End"}(i||(i={}));var F,B=(l=Object(z.persist)("list"),s=Object(z.persist)("list"),u=function e(t,r,a){Object(R.a)(this,e),Object(T.a)(this,"roundNumber",m,this),Object(T.a)(this,"guessOrder",b,this),Object(T.a)(this,"amountOfTricks",d,this),Object(T.a)(this,"step",p,this),Object(T.a)(this,"guessIndex",f,this),Object(T.a)(this,"guessedTricks",h,this),Object(T.a)(this,"scoreIndex",g,this),Object(T.a)(this,"scores",y,this),this.roundNumber=t,this.guessOrder=r,this.amountOfTricks=a},m=Object(x.a)(u.prototype,"roundNumber",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=Object(x.a)(u.prototype,"guessOrder",[S.observable,l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=Object(x.a)(u.prototype,"amountOfTricks",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=Object(x.a)(u.prototype,"step",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i.Guess}}),f=Object(x.a)(u.prototype,"guessIndex",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=Object(x.a)(u.prototype,"guessedTricks",[S.observable,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=Object(x.a)(u.prototype,"scoreIndex",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=Object(x.a)(u.prototype,"scores",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u),G=function(e){for(var t,r,a=e.length;0!==a;)r=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[r],e[r]=t;return e};!function(e){e[e.Start=0]="Start",e[e.New=1]="New",e[e.Round=2]="Round",e[e.Finished=3]="Finished"}(F||(F={}));var H,A,M,V,L,D,J,_,K,W,$,q,Q,U,X,Y,Z,ee,te,re,ae,ne,oe,ce,ie,le,se,ue,me,be,de,pe,fe,he,ge,ye,ve,Oe,Ee=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},ke=function(e,t){return fetch("".concat("http://192.168.1.15:8000","/game"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({rounds:Object(S.toJS)(e),players:Object(S.toJS)(t)})}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},je=new Audio("".concat("/boeren-bridge","/audio/attack.mp3")),we=new Audio("".concat("/boeren-bridge","/audio/yeah.mp3")),Ne=(H=Object(z.persist)("list"),A=Object(z.persist)("list"),M=Object(z.persist)("list"),V=Object(z.persist)("list"),L=Object(z.persist)("list"),D=function(){function e(){Object(R.a)(this,e),Object(T.a)(this,"roundNumber",J,this),Object(T.a)(this,"roundHistory",_,this),Object(T.a)(this,"minTricks",K,this),Object(T.a)(this,"maxTricks",W,this),Object(T.a)(this,"amountOfRounds",$,this),Object(T.a)(this,"players",q,this),Object(T.a)(this,"playerOrder",Q,this),Object(T.a)(this,"roundTricks",U,this),Object(T.a)(this,"loopTricksBack",X,this),Object(T.a)(this,"shuffleTricks",Y,this),Object(T.a)(this,"fullyRandom",Z,this),Object(T.a)(this,"firstToShuffle",ee,this),Object(T.a)(this,"colors",te,this),Object(T.a)(this,"setMinTricks",re,this),Object(T.a)(this,"setMaxTricks",ae,this),Object(T.a)(this,"setAmountOfRounds",ne,this),Object(T.a)(this,"addPlayer",oe,this),Object(T.a)(this,"pickColor",ce,this),Object(T.a)(this,"removePlayer",ie,this),Object(T.a)(this,"toggleLoopTricksBack",le,this),Object(T.a)(this,"toggleShuffleTricks",se,this),Object(T.a)(this,"toggleFullyRandom",ue,this),Object(T.a)(this,"resetGame",me,this),Object(T.a)(this,"startGame",be,this),Object(T.a)(this,"nextRound",de,this),Object(T.a)(this,"resetRound",pe,this),Object(T.a)(this,"guessTricks",fe,this),Object(T.a)(this,"setScore",he,this),Object(T.a)(this,"setScores",ge,this)}return Object(I.a)(e,[{key:"totalTricks",get:function(){return this.currentRound.guessedTricks.reduce((function(e,t){return e+t.amount}),0)}},{key:"lastGuess",get:function(){return this.currentRound.guessIndex===this.currentRound.guessOrder.length-1}},{key:"currentRound",get:function(){return this.roundHistory[this.roundHistory.length-1]}},{key:"lastRound",get:function(){var e;return(null===(e=this.roundHistory)||void 0===e?void 0:e.length)<2?null:this.roundHistory[this.roundHistory.length-2]}}]),e}(),J=Object(x.a)(D.prototype,"roundNumber",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=Object(x.a)(D.prototype,"roundHistory",[S.observable,H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=Object(x.a)(D.prototype,"minTricks",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),W=Object(x.a)(D.prototype,"maxTricks",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),$=Object(x.a)(D.prototype,"amountOfRounds",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),q=Object(x.a)(D.prototype,"players",[S.observable,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=Object(x.a)(D.prototype,"playerOrder",[S.observable,M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=Object(x.a)(D.prototype,"roundTricks",[S.observable,V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=Object(x.a)(D.prototype,"loopTricksBack",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Y=Object(x.a)(D.prototype,"shuffleTricks",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=Object(x.a)(D.prototype,"fullyRandom",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=Object(x.a)(D.prototype,"firstToShuffle",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=Object(x.a)(D.prototype,"colors",[S.observable,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["#007bff","#6610f2","#6f42c1","#e83e8c","#dc3545","#fd7e14","#ffc107","#28a745","#20c997","#17a2b8"]}}),re=Object(x.a)(D.prototype,"setMinTricks",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<1||t>e.maxTricks||(e.minTricks=t)}}}),ae=Object(x.a)(D.prototype,"setMaxTricks",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<e.minTricks||(e.maxTricks=t)}}}),ne=Object(x.a)(D.prototype,"setAmountOfRounds",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<1||(e.amountOfRounds=t)}}}),oe=Object(x.a)(D.prototype,"addPlayer",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=new P(t,e.colors[Ee(0,e.colors.length-1)]);e.players.push(r),e.playerOrder.push(r.id)}}}),ce=Object(x.a)(D.prototype,"pickColor",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){var a=e.players.findIndex((function(e){return e.id===t}));e.players[a].color=r}}}),ie=Object(x.a)(D.prototype,"removePlayer",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.players=e.players.filter((function(e){return e.id!==t})),e.playerOrder=e.playerOrder.filter((function(e){return e!==t}))}}}),le=Object(x.a)(D.prototype,"toggleLoopTricksBack",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.loopTricksBack=!e.loopTricksBack}}}),se=Object(x.a)(D.prototype,"toggleShuffleTricks",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.shuffleTricks=!e.shuffleTricks}}}),ue=Object(x.a)(D.prototype,"toggleFullyRandom",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.fullyRandom=!e.fullyRandom}}}),me=Object(x.a)(D.prototype,"resetGame",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.roundNumber=0,e.roundHistory=[],e.minTricks=1,e.maxTricks=10,e.players=[],e.playerOrder=[],e.roundTricks=[],e.loopTricksBack=!0,e.shuffleTricks=!1,e.fullyRandom=!1,Ce.router.updateRoute(F.New)}}}),be=Object(x.a)(D.prototype,"startGame",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(!(e.players.length<2)){if(e.fullyRandom)for(var t=0;t<e.amountOfRounds;t+=1)e.roundTricks.push(Ee(e.minTricks,e.maxTricks));else{for(var r=e.minTricks;r<=e.maxTricks;r+=1)e.roundTricks.push(r);if(e.loopTricksBack)for(var a=e.maxTricks;a>=e.minTricks;a-=1)e.roundTricks.push(a);e.shuffleTricks&&(e.roundTricks=G(e.roundTricks))}e.firstToShuffle=Ee(0,e.players.length-1),e.nextRound(),Ce.router.updateRoute(F.Round)}}}}),de=Object(x.a)(D.prototype,"nextRound",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e.roundNumber>=e.roundTricks.length)return we.play(),Ce.router.updateRoute(F.Finished),void ke(e.roundHistory,e.players);t&&(e.roundNumber+=1);for(var r=(e.roundNumber+e.firstToShuffle)%e.players.length,a=[],n=0;n<e.playerOrder.length;n+=1){var o=(n+r)%e.playerOrder.length;a.push(e.playerOrder[o])}var c=new B(e.roundNumber,a,e.roundTricks[e.roundNumber-1]);e.roundHistory.push(c)}}}),pe=Object(x.a)(D.prototype,"resetRound",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.roundHistory.pop(),e.nextRound(!1)}}}),fe=Object(x.a)(D.prototype,"guessTricks",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){null==t||t<0||t>e.currentRound.amountOfTricks||e.lastGuess&&e.totalTricks+t===e.currentRound.amountOfTricks||(e.currentRound.guessedTricks.push({playerId:e.currentRound.guessOrder[e.currentRound.guessIndex],amount:t}),e.currentRound.guessIndex++,e.currentRound.guessIndex===e.currentRound.guessOrder.length&&(je.play(),e.currentRound.step=i.Play))}}}),he=Object(x.a)(D.prototype,"setScore",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){var a,n=e.currentRound.guessedTricks[e.currentRound.scoreIndex].amount,o=e.currentRound.guessOrder[e.currentRound.scoreIndex];if(t)a=n;else{if(null==r)return;a=Math.abs(n-r)}var c=t?10+2*a:2*a*-1,l=c;if(e.lastRound){var s=e.lastRound.scores.find((function(e){return e.playerId===o}));l+=(null===s||void 0===s?void 0:s.totalScore)||0}e.currentRound.scores.push({playerId:o,score:c,totalScore:l}),e.currentRound.scoreIndex++,e.currentRound.scoreIndex>=e.currentRound.guessOrder.length&&(e.currentRound.step=i.End)}}}),ge=Object(x.a)(D.prototype,"setScores",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentRound.step=i.Score}}}),Object(x.a)(D.prototype,"totalTricks",[S.computed],Object.getOwnPropertyDescriptor(D.prototype,"totalTricks"),D.prototype),Object(x.a)(D.prototype,"lastGuess",[S.computed],Object.getOwnPropertyDescriptor(D.prototype,"lastGuess"),D.prototype),Object(x.a)(D.prototype,"currentRound",[S.computed],Object.getOwnPropertyDescriptor(D.prototype,"currentRound"),D.prototype),Object(x.a)(D.prototype,"lastRound",[S.computed],Object.getOwnPropertyDescriptor(D.prototype,"lastRound"),D.prototype),D),Te=new Audio("".concat("/boeren-bridge","/audio/soundtrack.mp3"));Te.loop=!0;var Re,xe,Se,ze,Ie=(ye=function e(){Object(R.a)(this,e),Object(T.a)(this,"route",ve,this),Object(T.a)(this,"updateRoute",Oe,this)},ve=Object(x.a)(ye.prototype,"route",[S.observable,z.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Start}}),Oe=Object(x.a)(ye.prototype,"updateRoute",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t===F.New?Te.play():Te.pause(),e.route=t}}}),ye),Ce=new(Re=function e(){var t=this;Object(R.a)(this,e),this.hydrate=void 0,Object(T.a)(this,"game",xe,this),Object(T.a)(this,"router",Se,this),Object(T.a)(this,"loaded",ze,this),this.hydrateStores=function(){return N.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loaded=!1,e.next=3,N.a.awrap(t.hydrate("game",t.game));case 3:return e.next=5,N.a.awrap(t.hydrate("router",t.router));case 5:t.loaded=!0;case 6:case"end":return e.stop()}}))},"0.2.0"!==localStorage.getItem("REACT_APP_VERSION")&&(localStorage.removeItem("game"),localStorage.removeItem("router"),localStorage.setItem("REACT_APP_VERSION","0.2.0")),this.hydrate=Object(z.create)({storage:{setItem:function(e,t){return N.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,N.a.awrap(localStorage.setItem(e,t));case 2:case"end":return r.stop()}}))},getItem:function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",localStorage.getItem(e));case 1:case"end":return t.stop()}}))}}}),this.game=new Ne,this.router=new Ie,this.hydrateStores()},xe=Object(x.a)(Re.prototype,"game",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=Object(x.a)(Re.prototype,"router",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Object(x.a)(Re.prototype,"loaded",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re),Pe=O.a.createContext(Ce),Fe=function(){return O.a.useContext(Pe)},Be=function(e){var t=e.colors,r=e.player,a=e.pickColor;return O.a.createElement(O.a.Fragment,null,t.map((function(e){return O.a.createElement("button",{key:e,className:"btn btn-sm",type:"button",onClick:function(){return a(r.id,e)},style:{backgroundColor:e,height:"1.2rem",width:"1.2rem",margin:"0.125rem",border:"".concat(e===r.color?"1px":"0"," solid rgba(0,0,0,0.5)")}})})))},Ge=Object(j.a)((function(){var e=Fe().game,t=e.players,r=e.colors,a=e.pickColor,n=e.removePlayer;return O.a.createElement("div",{className:"table-responsive-xl"},O.a.createElement("table",{className:"table table-striped"},O.a.createElement("thead",null,O.a.createElement("tr",null,O.a.createElement("th",{scope:"col",colSpan:3},"Spelers"))),O.a.createElement("tbody",null,t.length?t.map((function(e){return O.a.createElement("tr",{key:e.id},O.a.createElement("td",{style:{color:e.color}},e.name),O.a.createElement("td",null,O.a.createElement(Be,{colors:r,player:e,pickColor:a})),O.a.createElement("td",{style:{width:"10%"}},O.a.createElement("button",{className:"btn btn-sm btn-danger",type:"button",onClick:function(){return n(e.id)}},"Verwijderen")))})):O.a.createElement("tr",null,O.a.createElement("td",null,"Nog geen spelers toegevoegd.")))))})),He=r(14),Ae=Object(j.a)((function(){var e=Fe().game.addPlayer,t=Object(v.useState)(""),r=Object(He.a)(t,2),a=r[0],n=r[1];return O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col-sm"},O.a.createElement("div",{className:"input-group mb-3"},O.a.createElement("input",{type:"text",className:"form-control",placeholder:"Naam",value:a,onChange:function(e){return n(e.target.value)}}),O.a.createElement("div",{className:"input-group-append"},O.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){e(a),n("")}},"Toevoegen")))))})),Me=Object(j.a)((function(){var e=Fe().game,t=e.fullyRandom,r=e.toggleFullyRandom,a=e.minTricks,n=e.setMinTricks,o=e.maxTricks,c=e.setMaxTricks,i=e.amountOfRounds,l=e.setAmountOfRounds,s=e.loopTricksBack,u=e.toggleLoopTricksBack,m=e.shuffleTricks,b=e.toggleShuffleTricks;return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("input",{name:"Random slagen",type:"checkbox",checked:t,onChange:r}),O.a.createElement("label",{style:{marginLeft:"0.5rem"}},"Volledig random slagen"))),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("div",{className:"form-group"},O.a.createElement("label",{htmlFor:"minTricks"},"Minimaal aantal slagen"),O.a.createElement("input",{type:"number",className:"form-control",id:"minTricks",value:a,onChange:function(e){return n(parseInt(e.target.value,10))}}))),O.a.createElement("div",{className:"col"},O.a.createElement("div",{className:"form-group"},O.a.createElement("label",{htmlFor:"maxTricks"},"Maximaal aantal slagen"),O.a.createElement("input",{type:"number",className:"form-control",id:"maxTricks",value:o,onChange:function(e){return c(parseInt(e.target.value,10))}}))),t&&O.a.createElement("div",{className:"col"},O.a.createElement("div",{className:"form-group"},O.a.createElement("label",{htmlFor:"amountOfRounds"},"Aantal rondes"),O.a.createElement("input",{type:"number",className:"form-control",id:"amountOfRounds",value:i,onChange:function(e){return l(parseInt(e.target.value,10))}})))),!t&&O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("input",{name:"Slagen terugtellen",type:"checkbox",checked:s,onChange:u}),O.a.createElement("label",{style:{marginLeft:"0.5rem"}},"Slagen terugtellen"))),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("input",{name:"Random slagen",type:"checkbox",checked:m,onChange:b}),O.a.createElement("label",{style:{marginLeft:"0.5rem"}},"Random volgorde slagen")))))})),Ve=Object(j.a)((function(){var e=Fe(),t=e.game.startGame,r=e.router.updateRoute;return O.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},O.a.createElement("h5",{className:"card-header"},"Nieuw spel"),O.a.createElement("div",{className:"card-body"},O.a.createElement(Ae,null),O.a.createElement(Ge,null),O.a.createElement(Me,null),O.a.createElement("div",{className:"row",style:{marginTop:"1rem"}},O.a.createElement("div",{className:"col"},O.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block",onClick:t},"Beginnen"))),O.a.createElement("button",{style:{width:"10rem",position:"fixed",bottom:"1rem",left:"1rem"},className:"btn btn-danger btn-block",type:"button",onClick:function(){return r(F.Start)}},"Terug")))})),Le=r(39),De=Object(j.a)((function(e){var t=e.game,r=t.players,a=t.currentRound,n=a.scoreIndex,o=a.guessOrder,c=a.guessedTricks,i=a.amountOfTricks,l=t.setScore,s=r.find((function(e){return e.id===o[n]})),u=c.find((function(e){return e.playerId===o[n]}));return s&&u?O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:"row",style:{margin:"1rem 0"}},O.a.createElement("div",{className:"col"},"Behaalde score voor: ",O.a.createElement("b",null,s.name),". Verwachte slagen:"," ",O.a.createElement("b",null,u.amount))),O.a.createElement("div",{className:"row",style:{margin:"1rem 0"}},O.a.createElement("div",{className:"col"},O.a.createElement("b",null,"Behaalde slagen:"))),O.a.createElement("div",{className:"row",style:{margin:"1rem 0"}},O.a.createElement("div",{className:"col-sm"},O.a.createElement("button",{className:"btn btn-success btn-lg btn-block",type:"button",onClick:function(){return l(!0,0)}},"Goed")),O.a.createElement("div",{className:"col-sm"},O.a.createElement("div",{className:"btn-group btn-block",role:"group"},Object(Le.a)(Array(i+1)).map((function(e,t){return u.amount===t?null:O.a.createElement("button",{type:"button",className:"btn btn-lg btn-danger",onClick:function(){return l(!1,t)},key:t},t)})))))):null})),Je=Object(j.a)((function(e){var t=e.game,r=t.players,a=t.currentRound,n=a.guessIndex,o=a.guessOrder,c=a.amountOfTricks,i=t.guessTricks,l=t.totalTricks,s=t.lastGuess,u=r.find((function(e){return e.id===o[n]}));return u?O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col-sm"},O.a.createElement("p",{className:"text-left"},"Verwachte slagen voor ",O.a.createElement("b",null,u.name)))),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col-sm"},O.a.createElement("div",{className:"input-group mb-3"},O.a.createElement("div",{className:"btn-group btn-block",role:"group"},Object(Le.a)(Array(c+1)).map((function(e,t){return s&&l+t===c?null:O.a.createElement("button",{type:"button",className:"btn btn-lg btn-success",onClick:function(){return i(t)},key:t},t)}))))))):null})),_e=Object(j.a)((function(e){var t=e.game,r=t.currentRound.step,a=t.setScores,n=t.nextRound;switch(r){case i.Guess:return O.a.createElement(Je,{game:t});case i.Play:return O.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:a,style:{margin:"1rem 0"}},"Scores invoeren");case i.Score:return O.a.createElement(De,{game:t});case i.End:return O.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:function(){return n()},style:{margin:"1rem 0"}},"Volgende ronde")}})),Ke=r(61),We=r(90),$e=r(23),qe=Object(j.a)((function(e){var t=e.players,r=e.rounds,a=e.reverse,n=r.map((function(e){var r={round:e.roundNumber};return e.scores.forEach((function(e){var a=t.find((function(t){return t.id===e.playerId}));a&&(r=Object(We.a)({},r,Object(Ke.a)({},a.name,e.totalScore)))})),r}));return O.a.createElement("div",{className:"table-responsive-xl"},O.a.createElement("table",{className:"table table-striped"},O.a.createElement("thead",null,O.a.createElement("tr",null,O.a.createElement("th",{scope:"col"},"Ronde"),O.a.createElement("th",{scope:"col"},"Slagen"),t.map((function(e){return O.a.createElement(v.Fragment,{key:e.id},O.a.createElement("th",{scope:"col"},e.name),O.a.createElement("th",{scope:"col"},"Verwacht"))})))),O.a.createElement("tbody",null,O.a.createElement(Qe,{rounds:r,players:t,reverse:a}),O.a.createElement(Xe,{rounds:r,players:t}))),O.a.createElement($e.e,{width:"95%",height:400},O.a.createElement($e.d,{data:n,margin:{top:5,right:30,left:20,bottom:5}},O.a.createElement($e.a,{strokeDasharray:"3 3"}),O.a.createElement($e.g,{dataKey:"round"}),O.a.createElement($e.h,null),O.a.createElement($e.f,null),O.a.createElement($e.b,null),t.map((function(e){return O.a.createElement($e.c,{key:e.id,dataKey:e.name,stroke:e.color})})))))})),Qe=Object(j.a)((function(e){var t=e.players,r=e.rounds,a=e.reverse;return O.a.createElement(O.a.Fragment,null,(a?Object(Le.a)(r).reverse():r).map((function(e){return O.a.createElement(Ue,{round:e,players:t,key:e.roundNumber})})))})),Ue=Object(j.a)((function(e){var t=e.round,r=e.players,a={padding:"0.25rem 0.75rem"};return O.a.createElement("tr",{key:t.roundNumber},O.a.createElement("td",{style:a},t.roundNumber),O.a.createElement("td",{style:a},t.amountOfTricks),r.map((function(e){var n=t.guessedTricks.find((function(t){return t.playerId===e.id}));if(!t.scores.length||t.scores.length!==r.length)return O.a.createElement(v.Fragment,{key:e.id},O.a.createElement("td",{style:a},"-"),O.a.createElement("td",{style:a},n?n.amount:"-"));var o=t.scores.find((function(t){return t.playerId===e.id}));return O.a.createElement(v.Fragment,{key:e.id},O.a.createElement("td",{style:a},null===o||void 0===o?void 0:o.totalScore),O.a.createElement("td",{style:Object(We.a)({},a,{},o&&o.score<0?{color:"red"}:{})},null===n||void 0===n?void 0:n.amount))})))})),Xe=Object(j.a)((function(e){var t=e.rounds,r=e.players,a=new Map;return t.forEach((function(e){e.scores.forEach((function(e){a.has(e.playerId)?a.set(e.playerId,a.get(e.playerId)+e.score):a.set(e.playerId,e.score)}))})),O.a.createElement("tr",null,O.a.createElement("th",{colSpan:2},"Totaal"),r.map((function(e){var t=a.get(e.id);return O.a.createElement("td",{key:e.id,colSpan:2,className:"twee"},t||"-")})))})),Ye=Object(j.a)((function(){var e=Fe(),t=e.game,r=e.game,a=r.roundNumber,n=r.players,o=r.roundHistory,c=r.resetRound,i=r.currentRound,l=i.guessOrder,s=i.amountOfTricks,u=r.resetGame,m=n.find((function(e){return e.id===l[n.length-1]}));return m?O.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},O.a.createElement("h5",{className:"card-header"},"Ronde ",a," - Aantal slagen ",O.a.createElement("b",null,s)),O.a.createElement("div",{className:"card-body"},O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("b",null,m.name)," moet deze ronde schudden")),O.a.createElement("hr",null),O.a.createElement(_e,{game:t}),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement(qe,{rounds:o,players:n,reverse:!0}))),O.a.createElement("hr",null),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("button",{className:"btn btn-danger btn-block",type:"button",onClick:c},"Herstart ronde"))),O.a.createElement("button",{style:{width:"10rem",position:"fixed",bottom:"1rem",left:"1rem"},className:"btn btn-danger btn-block",type:"button",onClick:function(){window.confirm("Herstarten?")&&u()}},"Stoppen"))):null})),Ze=Object(j.a)((function(){var e=Fe().game,t=e.players,r=e.roundHistory,a=e.resetGame;return O.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},O.a.createElement("h5",{className:"card-header"},"Klaar!"),O.a.createElement("div",{className:"card-body"},O.a.createElement(qe,{players:t,rounds:r,reverse:!1}),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("button",{className:"btn btn-success btn-block",type:"button",onClick:a},"Nieuw spel")))))})),et=Object(j.a)((function(){var e=Fe().router.updateRoute;return O.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},O.a.createElement("h5",{className:"card-header"},"Boeren Bridge"),O.a.createElement("div",{className:"card-body"},O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("button",{className:"btn btn-success btn-block",type:"button",onClick:function(){return e(F.New)}},"Nieuw spel")))))})),tt=Object(j.a)((function(){var e,t=Fe(),r=t.loaded,a=t.router.route;if(!r)return null;switch(a){case F.Start:e=O.a.createElement(et,null);break;case F.New:e=O.a.createElement(Ve,null);break;case F.Round:e=O.a.createElement(Ye,null);break;case F.Finished:e=O.a.createElement(Ze,null)}return O.a.createElement("div",{className:"container"},e)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(385);k.a.render(O.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[192,1,2]]]);
//# sourceMappingURL=main.364bd413.chunk.js.map
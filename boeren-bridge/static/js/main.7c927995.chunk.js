(this["webpackJsonpboeren-bridge"]=this["webpackJsonpboeren-bridge"]||[]).push([[0],{19:function(e,t,r){e.exports=r(32)},31:function(e,t,r){},32:function(e,t,r){"use strict";r.r(t);var a,n,i,c,l,s,o,u,b,m,d,p,h,f,y,g=r(0),O=r.n(g),v=r(14),E=r.n(v),j=r(5),k=r(3),N=r(6),w=r(2),T=(r(8),r(1)),R=r(4),x=r(15),z=r(16),I=(a=function e(t){Object(N.a)(this,e),Object(k.a)(this,"id",n,this),Object(k.a)(this,"name",i,this),this.name=t,this.id=Object(z.v1)()},n=Object(w.a)(a.prototype,"id",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=Object(w.a)(a.prototype,"name",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a);!function(e){e[e.Guess=0]="Guess",e[e.Play=1]="Play",e[e.Score=2]="Score",e[e.End=3]="End"}(c||(c={}));var S,G,C,P,M,H,B,F,A,V,D,J,W,K,$,q,L,Q,U,X,Y,Z,_,ee,te,re,ae,ne,ie,ce,le=(l=Object(R.persist)("list"),s=Object(R.persist)("list"),o=function e(t,r,a){Object(N.a)(this,e),Object(k.a)(this,"roundNumber",u,this),Object(k.a)(this,"guessOrder",b,this),Object(k.a)(this,"amountOfTricks",m,this),Object(k.a)(this,"step",d,this),Object(k.a)(this,"guessIndex",p,this),Object(k.a)(this,"guessedTricks",h,this),Object(k.a)(this,"scoreIndex",f,this),Object(k.a)(this,"scores",y,this),this.roundNumber=t,this.guessOrder=r,this.amountOfTricks=a},u=Object(w.a)(o.prototype,"roundNumber",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=Object(w.a)(o.prototype,"guessOrder",[T.observable,l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=Object(w.a)(o.prototype,"amountOfTricks",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=Object(w.a)(o.prototype,"step",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Guess}}),p=Object(w.a)(o.prototype,"guessIndex",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=Object(w.a)(o.prototype,"guessedTricks",[T.observable,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=Object(w.a)(o.prototype,"scoreIndex",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=Object(w.a)(o.prototype,"scores",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o),se=function(e){for(var t,r,a=e.length;0!==a;)r=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[r],e[r]=t;return e},oe=new Audio("".concat("/boeren-bridge","/audio/attack.mp3")),ue=new Audio("".concat("/boeren-bridge","/audio/yeah.mp3")),be=(S=Object(R.persist)("list"),G=Object(R.persist)("list"),C=Object(R.persist)("list"),P=Object(R.persist)("list"),M=function(){function e(){Object(N.a)(this,e),Object(k.a)(this,"roundNumber",H,this),Object(k.a)(this,"roundHistory",B,this),Object(k.a)(this,"minTricks",F,this),Object(k.a)(this,"maxTricks",A,this),Object(k.a)(this,"players",V,this),Object(k.a)(this,"playerOrder",D,this),Object(k.a)(this,"roundTricks",J,this),Object(k.a)(this,"loopTricksBack",W,this),Object(k.a)(this,"setMinTricks",K,this),Object(k.a)(this,"setMaxTricks",$,this),Object(k.a)(this,"addPlayer",q,this),Object(k.a)(this,"removePlayer",L,this),Object(k.a)(this,"resetGame",Q,this),Object(k.a)(this,"startGame",U,this),Object(k.a)(this,"nextRound",X,this),Object(k.a)(this,"resetRound",Y,this),Object(k.a)(this,"guessTricks",Z,this),Object(k.a)(this,"setScore",_,this),Object(k.a)(this,"setScores",ee,this)}return Object(x.a)(e,[{key:"currentRound",get:function(){return this.roundHistory[this.roundHistory.length-1]}},{key:"totalTricks",get:function(){return this.currentRound.guessedTricks.reduce((function(e,t){return e+t.amount}),0)}},{key:"lastGuess",get:function(){return this.currentRound.guessIndex===this.currentRound.guessOrder.length-1}}]),e}(),H=Object(w.a)(M.prototype,"roundNumber",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=Object(w.a)(M.prototype,"roundHistory",[T.observable,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=Object(w.a)(M.prototype,"minTricks",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=Object(w.a)(M.prototype,"maxTricks",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),V=Object(w.a)(M.prototype,"players",[T.observable,G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=Object(w.a)(M.prototype,"playerOrder",[T.observable,C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Object(w.a)(M.prototype,"roundTricks",[T.observable,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=Object(w.a)(M.prototype,"loopTricksBack",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=Object(w.a)(M.prototype,"setMinTricks",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<1||t>e.maxTricks||(e.minTricks=t)}}}),$=Object(w.a)(M.prototype,"setMaxTricks",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<e.minTricks||(e.maxTricks=t)}}}),q=Object(w.a)(M.prototype,"addPlayer",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=new I(t);e.players.push(r),e.playerOrder.push(r.id)}}}),L=Object(w.a)(M.prototype,"removePlayer",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.players=e.players.filter((function(e){return e.id!==t})),e.playerOrder=e.playerOrder.filter((function(e){return e!==t}))}}}),Q=Object(w.a)(M.prototype,"resetGame",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.roundNumber=0,e.roundHistory=[],e.minTricks=1,e.maxTricks=10,e.players=[],e.playerOrder=[],pe.router.updateRoute("new")}}}),U=Object(w.a)(M.prototype,"startGame",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(!(e.players.length<2)){for(var t=e.minTricks;t<=e.maxTricks;t+=1)e.roundTricks.push(t);if(e.loopTricksBack)for(var r=e.maxTricks;r>=e.minTricks;r-=1)e.roundTricks.push(r);e.playerOrder=se(e.playerOrder),e.nextRound(),pe.router.updateRoute("round")}}}}),X=Object(w.a)(M.prototype,"nextRound",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e.roundNumber>=e.roundTricks.length)return ue.play(),void pe.router.updateRoute("finished");oe.play(),t&&(e.roundNumber+=1);for(var r=(e.roundNumber-1)%e.players.length,a=[],n=0;n<e.playerOrder.length;n+=1){var i=(n+r)%e.playerOrder.length;a.push(e.playerOrder[i])}var c=new le(e.roundNumber,a,e.roundTricks[e.roundNumber-1]);e.roundHistory.push(c)}}}),Y=Object(w.a)(M.prototype,"resetRound",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.roundHistory.pop(),e.nextRound(!1)}}}),Object(w.a)(M.prototype,"currentRound",[T.computed],Object.getOwnPropertyDescriptor(M.prototype,"currentRound"),M.prototype),Z=Object(w.a)(M.prototype,"guessTricks",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){null==t||t<0||t>e.currentRound.amountOfTricks||e.lastGuess&&e.totalTricks+t===e.currentRound.amountOfTricks||(e.currentRound.guessedTricks.push({playerId:e.currentRound.guessOrder[e.currentRound.guessIndex],amount:t}),e.currentRound.guessIndex++,e.currentRound.guessIndex===e.currentRound.guessOrder.length&&(e.currentRound.step=c.Play))}}}),_=Object(w.a)(M.prototype,"setScore",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){var a,n=e.currentRound.guessedTricks[e.currentRound.scoreIndex].amount;if(t)a=n;else{if(null==r)return;a=Math.abs(n-r)}e.currentRound.scores.push({playerId:e.currentRound.guessOrder[e.currentRound.scoreIndex],score:t?10+2*a:2*a*-1}),e.currentRound.scoreIndex++,e.currentRound.scoreIndex>=e.currentRound.guessOrder.length&&(e.currentRound.step=c.End)}}}),ee=Object(w.a)(M.prototype,"setScores",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentRound.step=c.Score}}}),Object(w.a)(M.prototype,"totalTricks",[T.computed],Object.getOwnPropertyDescriptor(M.prototype,"totalTricks"),M.prototype),Object(w.a)(M.prototype,"lastGuess",[T.computed],Object.getOwnPropertyDescriptor(M.prototype,"lastGuess"),M.prototype),M),me=(te=function e(){Object(N.a)(this,e),Object(k.a)(this,"route",re,this),Object(k.a)(this,"updateRoute",ae,this)},re=Object(w.a)(te.prototype,"route",[T.observable,R.persist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"new"}}),ae=Object(w.a)(te.prototype,"updateRoute",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.route=t}}}),te),de=Object(R.create)(),pe=new(ne=function e(){Object(N.a)(this,e),Object(k.a)(this,"game",ie,this),Object(k.a)(this,"router",ce,this),this.game=new be,this.router=new me,de("game",this.game),de("router",this.router)},ie=Object(w.a)(ne.prototype,"game",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=Object(w.a)(ne.prototype,"router",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne),he=O.a.createContext(pe),fe=function(){return O.a.useContext(he)},ye=r(17),ge=Object(j.a)((function(){var e=fe().game,t=e.minTricks,r=e.setMinTricks,a=e.maxTricks,n=e.setMaxTricks,i=e.players,c=e.addPlayer,l=e.removePlayer,s=e.startGame,o=Object(g.useState)(""),u=Object(ye.a)(o,2),b=u[0],m=u[1];return O.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},O.a.createElement("h5",{className:"card-header"},"Nieuw spel"),O.a.createElement("div",{className:"card-body"},O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col-sm"},O.a.createElement("div",{className:"input-group mb-3"},O.a.createElement("input",{type:"text",className:"form-control",placeholder:"Naam",value:b,onChange:function(e){return m(e.target.value)}}),O.a.createElement("div",{className:"input-group-append"},O.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){c(b),m("")}},"Toevoegen"))))),O.a.createElement("div",{className:"table-responsive-xl"},O.a.createElement("table",{className:"table table-striped"},O.a.createElement("thead",null,O.a.createElement("tr",null,O.a.createElement("th",{scope:"col",colSpan:2},"Spelers"))),O.a.createElement("tbody",null,i.length?i.map((function(e){return O.a.createElement("tr",{key:e.id},O.a.createElement("td",null,e.name),O.a.createElement("td",{style:{width:"10%"}},O.a.createElement("button",{className:"btn btn-sm btn-danger",type:"button",onClick:function(){return l(e.id)}},"Verwijderen")))})):O.a.createElement("tr",null,O.a.createElement("td",null,"Nog geen spelers toegevoegd."))))),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("div",{className:"form-group"},O.a.createElement("label",{htmlFor:"minTricks"},"Minimaal aantal slagen"),O.a.createElement("input",{type:"number",className:"form-control",id:"minTricks",value:t,onChange:function(e){return r(parseInt(e.target.value,10))}}))),O.a.createElement("div",{className:"col"},O.a.createElement("div",{className:"form-group"},O.a.createElement("label",{htmlFor:"maxTricks"},"Maximaal aantal slagen"),O.a.createElement("input",{type:"number",className:"form-control",id:"maxTricks",value:a,onChange:function(e){return n(parseInt(e.target.value,10))}})))),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block",onClick:s},"Beginnen")))))})),Oe=r(7),ve=Object(j.a)((function(e){var t=e.game,r=t.players,a=t.currentRound,n=a.scoreIndex,i=a.guessOrder,c=a.guessedTricks,l=a.amountOfTricks,s=t.setScore,o=r.find((function(e){return e.id===i[n]})),u=c.find((function(e){return e.playerId===i[n]}));return o&&u?O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:"row",style:{margin:"1rem 0"}},O.a.createElement("div",{className:"col"},"Behaalde score voor: ",O.a.createElement("b",null,o.name),". Verwachte slagen:"," ",O.a.createElement("b",null,u.amount))),O.a.createElement("div",{className:"row",style:{margin:"1rem 0"}},O.a.createElement("div",{className:"col"},O.a.createElement("b",null,"Behaalde slagen:"))),O.a.createElement("div",{className:"row",style:{margin:"1rem 0"}},O.a.createElement("div",{className:"col-sm"},O.a.createElement("button",{className:"btn btn-success btn-lg btn-block",type:"button",onClick:function(){return s(!0,0)}},"Goed")),O.a.createElement("div",{className:"col-sm"},O.a.createElement("div",{className:"btn-group btn-block",role:"group"},Object(Oe.a)(Array(l+1)).map((function(e,t){return u.amount===t?null:O.a.createElement("button",{type:"button",className:"btn btn-lg btn-danger",onClick:function(){return s(!1,t)},key:t},t)})))))):null})),Ee=Object(j.a)((function(e){var t=e.game,r=t.players,a=t.currentRound,n=a.guessIndex,i=a.guessOrder,c=a.amountOfTricks,l=t.guessTricks,s=t.totalTricks,o=t.lastGuess,u=r.find((function(e){return e.id===i[n]}));return u?O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col-sm"},O.a.createElement("p",{className:"text-left"},"Verwachte slagen voor ",O.a.createElement("b",null,u.name)))),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col-sm"},O.a.createElement("div",{className:"input-group mb-3"},O.a.createElement("div",{className:"btn-group btn-block",role:"group"},Object(Oe.a)(Array(c+1)).map((function(e,t){return o&&s+t===c?null:O.a.createElement("button",{type:"button",className:"btn btn-lg btn-success",onClick:function(){return l(t)},key:t},t)}))))))):null})),je=Object(j.a)((function(e){var t=e.game,r=t.currentRound.step,a=t.setScores,n=t.nextRound;switch(r){case c.Guess:return O.a.createElement(Ee,{game:t});case c.Play:return O.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:a,style:{margin:"1rem 0"}},"Scores invoeren");case c.Score:return O.a.createElement(ve,{game:t});case c.End:return O.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:function(){return n()},style:{margin:"1rem 0"}},"Volgende ronde")}})),ke=r(18),Ne=Object(j.a)((function(e){var t=e.players,r=e.rounds,a=e.reverse;return O.a.createElement("div",{className:"table-responsive-xl"},O.a.createElement("table",{className:"table table-striped"},O.a.createElement("thead",null,O.a.createElement("tr",null,O.a.createElement("th",{scope:"col"},"Ronde"),O.a.createElement("th",{scope:"col"},"Slagen"),t.map((function(e){return O.a.createElement(g.Fragment,{key:e.id},O.a.createElement("th",{scope:"col"},e.name),O.a.createElement("th",{scope:"col"},"Verwacht"))})))),O.a.createElement("tbody",null,(a?Object(Oe.a)(r).reverse():r).map((function(e){return O.a.createElement(we,{round:e,players:t,key:e.roundNumber})})),O.a.createElement(Te,{rounds:r,players:t}))))})),we=Object(j.a)((function(e){var t=e.round,r=e.players,a={padding:"0.25rem 0.75rem"};return O.a.createElement("tr",{key:t.roundNumber},O.a.createElement("td",{style:a},t.roundNumber),O.a.createElement("td",{style:a},t.amountOfTricks),r.map((function(e){var n=t.guessedTricks.find((function(t){return t.playerId===e.id}));if(!t.scores.length||t.scores.length!==r.length)return O.a.createElement(g.Fragment,{key:e.id},O.a.createElement("td",{style:a},"-"),O.a.createElement("td",{style:a},n?n.amount:"-"));var i=t.scores.find((function(t){return t.playerId===e.id}));return O.a.createElement(g.Fragment,{key:e.id},O.a.createElement("td",{style:a},null===i||void 0===i?void 0:i.score),O.a.createElement("td",{style:Object(ke.a)({},a,{},i&&i.score<0?{color:"red"}:{})},null===n||void 0===n?void 0:n.amount))})))})),Te=Object(j.a)((function(e){var t=e.rounds,r=e.players,a=new Map;return t.forEach((function(e){e.scores.forEach((function(e){a.has(e.playerId)?a.set(e.playerId,a.get(e.playerId)+e.score):a.set(e.playerId,e.score)}))})),O.a.createElement("tr",null,O.a.createElement("th",{colSpan:2},"Totaal"),r.map((function(e){var t=a.get(e.id);return O.a.createElement("td",{key:e.id,colSpan:2,className:"twee"},t||"-")})))})),Re=Object(j.a)((function(){var e=fe(),t=e.game,r=e.game,a=r.roundNumber,n=r.players,i=r.roundHistory,c=r.resetRound,l=r.currentRound,s=l.guessOrder,o=l.amountOfTricks,u=n.find((function(e){return e.id===s[n.length-1]}));return u?O.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},O.a.createElement("h5",{className:"card-header"},"Ronde ",a," - Aantal slagen ",O.a.createElement("b",null,o)),O.a.createElement("div",{className:"card-body"},O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("b",null,u.name)," moet deze ronde schudden")),O.a.createElement("hr",null),O.a.createElement(je,{game:t}),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement(Ne,{rounds:i,players:n,reverse:!0}))),O.a.createElement("hr",null),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("button",{className:"btn btn-danger btn-block",type:"button",onClick:c},"Herstart ronde"))))):null})),xe=Object(j.a)((function(){var e=fe().game,t=e.players,r=e.roundHistory,a=e.resetGame;return O.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},O.a.createElement("h5",{className:"card-header"},"Klaar!"),O.a.createElement("div",{className:"card-body"},O.a.createElement(Ne,{players:t,rounds:r,reverse:!1}),O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col"},O.a.createElement("button",{className:"btn btn-success btn-block",type:"button",onClick:a},"Nieuw spel")))))})),ze=Object(j.a)((function(){var e;switch(fe().router.route){case"new":e=O.a.createElement(ge,null);break;case"round":e=O.a.createElement(Re,null);break;case"finished":e=O.a.createElement(xe,null)}return O.a.createElement("div",{className:"container"},e)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(31);E.a.render(O.a.createElement(ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.7c927995.chunk.js.map
(this["webpackJsonpboeren-bridge"]=this["webpackJsonpboeren-bridge"]||[]).push([[0],{18:function(e,t,r){e.exports=r(27)},26:function(e,t,r){},27:function(e,t,r){"use strict";r.r(t);var a,n,i,c,l,o,s,u,m,b,d,p,f,h,g,y,O=r(0),v=r.n(O),E=r(13),j=r.n(E),k=r(4),N=r(3),w=r(5),T=r(2),x=(r(7),r(1)),z=r(14),I=r(8),R=r(15),S=(a=function e(t){Object(w.a)(this,e),Object(N.a)(this,"id",n,this),Object(N.a)(this,"name",i,this),this.name=t,this.id=Object(R.v1)()},n=Object(T.a)(a.prototype,"id",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=Object(T.a)(a.prototype,"name",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a);!function(e){e[e.Guess=0]="Guess",e[e.Play=1]="Play",e[e.Score=2]="Score"}(c||(c={}));var C,H,P,M,G,F,B,V,J,W,A,D,K,$,q,L,Q,U,X,Y,Z,_,ee,te=(l=function e(t,r,a){Object(w.a)(this,e),Object(N.a)(this,"roundNumber",o,this),Object(N.a)(this,"guessOrder",s,this),Object(N.a)(this,"amountOfTricks",u,this),Object(N.a)(this,"step",m,this),Object(N.a)(this,"guessIndex",b,this),Object(N.a)(this,"guessedTricks",d,this),Object(N.a)(this,"scoreIndex",p,this),Object(N.a)(this,"scores",f,this),Object(N.a)(this,"guessTricks",h,this),Object(N.a)(this,"setScores",g,this),Object(N.a)(this,"setScore",y,this),this.roundNumber=t,this.guessOrder=r,this.amountOfTricks=a},o=Object(T.a)(l.prototype,"roundNumber",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=Object(T.a)(l.prototype,"guessOrder",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=Object(T.a)(l.prototype,"amountOfTricks",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=Object(T.a)(l.prototype,"step",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Guess}}),b=Object(T.a)(l.prototype,"guessIndex",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=Object(T.a)(l.prototype,"guessedTricks",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=Object(T.a)(l.prototype,"scoreIndex",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=Object(T.a)(l.prototype,"scores",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=Object(T.a)(l.prototype,"guessTricks",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(!(null==t||t<0||t>e.amountOfTricks)){if(e.guessIndex===e.guessOrder.length-1)if(e.guessedTricks.reduce((function(e,t){return e+t.amount}),0)+t===e.amountOfTricks)return;e.guessedTricks.push({playerId:e.guessOrder[e.guessIndex],amount:t}),e.guessIndex++,e.guessIndex===e.guessOrder.length&&(e.step=c.Play)}}}}),g=Object(T.a)(l.prototype,"setScores",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.step=c.Score}}}),y=Object(T.a)(l.prototype,"setScore",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){var a;if(t)a=e.guessedTricks[e.scoreIndex].amount;else{if(null==r)return;a=r||1}e.scores.push({playerId:e.guessOrder[e.scoreIndex],score:t?10+2*a:2*a*-1}),e.scoreIndex++,e.scoreIndex>=e.guessOrder.length&&le.game.nextRound()}}}),l),re=function(e){for(var t,r,a=e.length;0!==a;)r=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[r],e[r]=t;return e},ae=new I.Howl({src:["".concat("/boeren-bridge","/audio/attack.mp3")]}),ne=new I.Howl({src:["".concat("/boeren-bridge","/audio/yeah.mp3")]}),ie=(C=function(){function e(){Object(w.a)(this,e),Object(N.a)(this,"roundNumber",H,this),Object(N.a)(this,"roundHistory",P,this),Object(N.a)(this,"minTricks",M,this),Object(N.a)(this,"maxTricks",G,this),Object(N.a)(this,"players",F,this),Object(N.a)(this,"playerOrder",B,this),Object(N.a)(this,"roundTricks",V,this),Object(N.a)(this,"loopTricksBack",J,this),Object(N.a)(this,"setMinTricks",W,this),Object(N.a)(this,"setMaxTricks",A,this),Object(N.a)(this,"addPlayer",D,this),Object(N.a)(this,"removePlayer",K,this),Object(N.a)(this,"resetGame",$,this),Object(N.a)(this,"startGame",q,this),Object(N.a)(this,"nextRound",L,this),Object(N.a)(this,"resetRound",Q,this),this.addPlayer("Stefan")}return Object(z.a)(e,[{key:"currentRound",get:function(){return this.roundHistory[this.roundHistory.length-1]}}]),e}(),H=Object(T.a)(C.prototype,"roundNumber",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=Object(T.a)(C.prototype,"roundHistory",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=Object(T.a)(C.prototype,"minTricks",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G=Object(T.a)(C.prototype,"maxTricks",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),F=Object(T.a)(C.prototype,"players",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=Object(T.a)(C.prototype,"playerOrder",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=Object(T.a)(C.prototype,"roundTricks",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Object(T.a)(C.prototype,"loopTricksBack",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),W=Object(T.a)(C.prototype,"setMinTricks",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<1||t>e.maxTricks||(e.minTricks=t)}}}),A=Object(T.a)(C.prototype,"setMaxTricks",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t<e.minTricks||(e.maxTricks=t)}}}),D=Object(T.a)(C.prototype,"addPlayer",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=new S(t);e.players.push(r),e.playerOrder.push(r.id)}}}),K=Object(T.a)(C.prototype,"removePlayer",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.players=e.players.filter((function(e){return e.id!==t})),e.playerOrder=e.playerOrder.filter((function(e){return e!==t}))}}}),$=Object(T.a)(C.prototype,"resetGame",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.roundNumber=0,e.roundHistory=[],e.minTricks=1,e.maxTricks=10,e.players=[],e.playerOrder=[]}}}),q=Object(T.a)(C.prototype,"startGame",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(!(e.players.length<2)){for(var t=e.minTricks;t<=e.maxTricks;t+=1)e.roundTricks.push(t);if(e.loopTricksBack)for(var r=e.maxTricks;r>=e.minTricks;r-=1)e.roundTricks.push(r);e.playerOrder=re(e.playerOrder),e.nextRound(),le.router.updateRoute("round")}}}}),L=Object(T.a)(C.prototype,"nextRound",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e.roundNumber>=e.roundTricks.length)return ne.play(),void le.router.updateRoute("finished");ae.play(),t&&(e.roundNumber+=1);for(var r=(e.roundNumber-1)%e.players.length,a=[],n=0;n<e.playerOrder.length;n+=1){var i=(n+r)%e.playerOrder.length;a.push(e.playerOrder[i])}var c=new te(e.roundNumber,a,e.roundTricks[e.roundNumber-1]);e.roundHistory.push(c)}}}),Q=Object(T.a)(C.prototype,"resetRound",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.roundHistory.pop(),e.nextRound(!1)}}}),Object(T.a)(C.prototype,"currentRound",[x.c],Object.getOwnPropertyDescriptor(C.prototype,"currentRound"),C.prototype),C),ce=(U=function e(){Object(w.a)(this,e),Object(N.a)(this,"route",X,this),Object(N.a)(this,"updateRoute",Y,this)},X=Object(T.a)(U.prototype,"route",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"new"}}),Y=Object(T.a)(U.prototype,"updateRoute",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.route=t}}}),U),le=new(Z=function e(){Object(w.a)(this,e),Object(N.a)(this,"game",_,this),Object(N.a)(this,"router",ee,this),this.game=new ie,this.router=new ce},_=Object(T.a)(Z.prototype,"game",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=Object(T.a)(Z.prototype,"router",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z),oe=v.a.createContext(le),se=function(){return v.a.useContext(oe)},ue=r(6),me=Object(k.a)((function(){var e=se().game,t=e.minTricks,r=e.setMinTricks,a=e.maxTricks,n=e.setMaxTricks,i=e.players,c=e.addPlayer,l=e.removePlayer,o=e.startGame,s=Object(O.useState)(""),u=Object(ue.a)(s,2),m=u[0],b=u[1];return v.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},v.a.createElement("h5",{className:"card-header"},"Nieuw spel"),v.a.createElement("div",{className:"card-body"},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-sm"},v.a.createElement("div",{className:"input-group mb-3"},v.a.createElement("input",{type:"text",className:"form-control",placeholder:"Naam",value:m,onChange:function(e){return b(e.target.value)}}),v.a.createElement("div",{className:"input-group-append"},v.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){c(m),b("")}},"Toevoegen"))))),v.a.createElement("div",{className:"table-responsive-xl"},v.a.createElement("table",{className:"table table-striped"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",{scope:"col",colSpan:2},"Spelers"))),v.a.createElement("tbody",null,i.length?i.map((function(e){return v.a.createElement("tr",{key:e.id},v.a.createElement("td",null,e.name),v.a.createElement("td",{style:{width:"10%"}},v.a.createElement("button",{className:"btn btn-sm btn-danger",type:"button",onClick:function(){return l(e.id)}},"Verwijderen")))})):v.a.createElement("tr",null,v.a.createElement("td",null,"Nog geen spelers toegevoegd."))))),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col"},v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"minTricks"},"Minimaal aantal slagen"),v.a.createElement("input",{type:"number",className:"form-control",id:"minTricks",value:t,onChange:function(e){return r(parseInt(e.target.value,10))}}))),v.a.createElement("div",{className:"col"},v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:"maxTricks"},"Maximaal aantal slagen"),v.a.createElement("input",{type:"number",className:"form-control",id:"maxTricks",value:a,onChange:function(e){return n(parseInt(e.target.value,10))}})))),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col"},v.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block",onClick:o},"Beginnen")))))})),be=Object(k.a)((function(e){var t=e.game,r=Object(O.useState)(""),a=Object(ue.a)(r,2),n=a[0],i=a[1],c=t.players,l=t.currentRound,o=l.scoreIndex,s=l.guessOrder,u=l.setScore,m=l.guessedTricks,b=c.find((function(e){return e.id===s[o]})),d=m.find((function(e){return e.playerId===s[o]}));if(!b||!d)return null;var p=function(e){(""!==n||e)&&(u(e,parseInt(n,10)),i(""))};return v.a.createElement(v.a.Fragment,null,"Behaalde score voor: ",v.a.createElement("b",null,b.name),". Verwachte slagen:"," ",v.a.createElement("b",null,d.amount),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-sm"},v.a.createElement("button",{className:"btn btn-success btn-block",type:"button",onClick:function(){return p(!0)}},"Goed")),v.a.createElement("div",{className:"col-sm"},v.a.createElement("div",{className:"input-group mb-3"},v.a.createElement("input",{type:"number",className:"form-control",placeholder:"Slagen ernaast",value:n,onChange:function(e){return i(e.target.value)}}),v.a.createElement("div",{className:"input-group-append"},v.a.createElement("button",{className:"btn btn-danger",style:{padding:"0 4rem"},type:"button",onClick:function(){return p(!1)}},"Fout"))))))})),de=Object(k.a)((function(e){var t=e.game,r=Object(O.useState)(""),a=Object(ue.a)(r,2),n=a[0],i=a[1],c=t.players,l=t.currentRound,o=l.guessIndex,s=l.guessOrder,u=l.guessTricks,m=c.find((function(e){return e.id===s[o]}));if(!m)return null;return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-sm"},v.a.createElement("p",{className:"text-left"},"Verwachte slagen voor ",v.a.createElement("b",null,m.name)))),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-sm"},v.a.createElement("div",{className:"input-group mb-3"},v.a.createElement("input",{type:"number",className:"form-control",placeholder:"Verwachte aantal slagen",value:n,onChange:function(e){return i(e.target.value)}}),v.a.createElement("div",{className:"input-group-append"},v.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){""!==n&&(u(parseInt(n,10)),i(""))}},"Toevoegen"))))))})),pe=Object(k.a)((function(e){var t=e.game,r=t.currentRound,a=r.step,n=r.setScores;switch(a){case c.Guess:return v.a.createElement(de,{game:t});case c.Play:return v.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:n},"Scores invoeren");case c.Score:return v.a.createElement(be,{game:t})}})),fe=r(17),he=r(16),ge=Object(k.a)((function(e){var t=e.players,r=e.rounds,a=e.reverse;return v.a.createElement("div",{className:"table-responsive-xl"},v.a.createElement("table",{className:"table table-striped"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",{scope:"col"},"Ronde"),v.a.createElement("th",{scope:"col"},"Slagen"),t.map((function(e){return v.a.createElement(O.Fragment,{key:e.id},v.a.createElement("th",{scope:"col"},e.name),v.a.createElement("th",{scope:"col"},"Verwacht"))})))),v.a.createElement("tbody",null,(a?Object(he.a)(r).reverse():r).map((function(e){return v.a.createElement(ye,{round:e,players:t,key:e.roundNumber})})),v.a.createElement(Oe,{rounds:r,players:t}))))})),ye=Object(k.a)((function(e){var t=e.round,r=e.players,a={padding:"0.25rem 0.75rem"};return v.a.createElement("tr",{key:t.roundNumber},v.a.createElement("td",{style:a},t.roundNumber),v.a.createElement("td",{style:a},t.amountOfTricks),r.map((function(e){var n=t.guessedTricks.find((function(t){return t.playerId===e.id}));if(!t.scores.length||t.scores.length!==r.length)return v.a.createElement(O.Fragment,{key:e.id},v.a.createElement("td",{style:a},"-"),v.a.createElement("td",{style:a},n?n.amount:"-"));var i=t.scores.find((function(t){return t.playerId===e.id}));return v.a.createElement(O.Fragment,{key:e.id},v.a.createElement("td",{style:a},null===i||void 0===i?void 0:i.score),v.a.createElement("td",{style:Object(fe.a)({},a,{},i&&i.score<0?{color:"red"}:{})},null===n||void 0===n?void 0:n.amount))})))})),Oe=Object(k.a)((function(e){var t=e.rounds,r=e.players,a=new Map;return t.forEach((function(e){e.scores.forEach((function(e){a.has(e.playerId)?a.set(e.playerId,a.get(e.playerId)+e.score):a.set(e.playerId,e.score)}))})),v.a.createElement("tr",null,v.a.createElement("th",{colSpan:2},"Totaal"),r.map((function(e){var t=a.get(e.id);return v.a.createElement("td",{key:e.id,colSpan:2,className:"twee"},t||"-")})))})),ve=Object(k.a)((function(){var e=se(),t=e.game,r=e.game,a=r.roundNumber,n=r.players,i=r.roundHistory,c=r.resetRound,l=r.currentRound,o=l.guessOrder,s=l.amountOfTricks,u=n.find((function(e){return e.id===o[n.length-1]}));return u?v.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},v.a.createElement("h5",{className:"card-header"},"Ronde ",a," - Aantal slagen ",v.a.createElement("b",null,s)),v.a.createElement("div",{className:"card-body"},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col"},v.a.createElement("b",null,u.name)," moet deze ronde schudden")),v.a.createElement("hr",null),v.a.createElement(pe,{game:t}),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col"},v.a.createElement(ge,{rounds:i,players:n,reverse:!0}))),v.a.createElement("hr",null),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col"},v.a.createElement("button",{className:"btn btn-danger btn-block",type:"button",onClick:c},"Herstart ronde"))))):null})),Ee=Object(k.a)((function(){var e=se().game,t=e.players,r=e.roundHistory;return v.a.createElement("div",{className:"card",style:{marginTop:"1rem"}},v.a.createElement("h5",{className:"card-header"},"Klaar!"),v.a.createElement("div",{className:"card-body"},v.a.createElement(ge,{players:t,rounds:r,reverse:!1})))})),je=Object(k.a)((function(){var e;switch(se().router.route){case"new":e=v.a.createElement(me,null);break;case"round":e=v.a.createElement(ve,null);break;case"finished":e=v.a.createElement(Ee,null)}return v.a.createElement("div",{className:"container"},e)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(26);j.a.render(v.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.51c69a3d.chunk.js.map